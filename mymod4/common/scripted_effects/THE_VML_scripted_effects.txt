THE_VML_cast_spell = {
    custom_tooltip = THE_VML_cast_spell_tt
    if ={
        limit={
            has_church_aspect = THE_VML_black_powder_mil_aspect
            NOT = { mil_tech = 7 }
        }
        capital_scope = {
            large_cast_bronze_mortar = ROOT
            large_cast_bronze_mortar = ROOT
        }
    }
    else_if = {
        limit={
            has_church_aspect = THE_VML_black_powder_mil_aspect
            mil_tech = 7
        }
        capital_scope = {
            artillery = ROOT
            artillery = ROOT
            artillery = ROOT
        }
    }
}
THE_VML_cast_spell_2 = {

}
THE_VML_Hermetic_Art_pro_caculate = {

    set_variable = {
        which = THE_VML_black_powder_amount
        value = 10
    }

}
THE_VML_set_variable_scripted_effects = {
    #初始变量
    set_variable = {which = vml_black_powder value = 1}
}
